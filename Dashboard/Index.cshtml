
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="~/css/dashboard.css" rel="stylesheet" />
        
</head>
<body>
   
    <!-- Top Navigation Bar -->
    <div class="top-nav">
        <div class="left-nav d-flex align-items-center">
            <a href="#" class="nav-link active" data-section="summary">Summary</a>
            <a href="#" class="nav-link" data-section="flashcards">Flashcards</a>
            <a href="#" class="nav-link" data-section="workbook">Workbook</a>
            <a href="#" class="nav-link" data-section="quizzes">Quizzes</a>
            <a href="#" class="nav-link" data-section="ai">AI Assistant</a>
        </div>
        <div class="right-nav d-flex align-items-center">
            <div class="user-dropdown me-3">
                <button class="dropdown-toggle" onclick="toggleDropdown('relax')">
                    <i class="bi bi-headphones"></i>
                </button>
                <div class="dropdown-menu enhanced-dropdown" id="relax-dropdown">
                    <div class="dropdown-header">
                        <i class="bi bi-headphones"></i>
                        <span>Relaxation Activities</span>
                    </div>
                    <div class="dropdown-divider"></div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-music-note-beamed"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Focus Music</div>
                            <div class="activity-desc">Lofi, classical, nature sounds</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-brightness-high"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Breathing Exercises</div>
                            <div class="activity-desc">4-7-8 technique, box breathing</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-puzzle"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Mind Games</div>
                            <div class="activity-desc">Memory, puzzles, brain teasers</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-eyedropper"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Color Therapy</div>
                            <div class="activity-desc">Visual relaxation tools</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-center">View all activities</a>
                </div>
            </div>

            <!-- Timer Dropdown -->
            <div class="user-dropdown me-3">
                <button class="dropdown-toggle" onclick="toggleDropdown('timer')">
                    <i class="bi bi-stopwatch"></i>
                </button>
                <div class="dropdown-menu enhanced-dropdown" id="timer-dropdown">
                    <div class="dropdown-header">
                        <i class="bi bi-stopwatch"></i>
                        <span>Timer Settings</span>
                    </div>
                    <div class="dropdown-divider"></div>

                    <div class="timer-options">
                        <h6>Preset Timers:</h6>
                        <div>
                            <span class="timer-preset active" data-minutes="25">Pomodoro (25m)</span>
                            <span class="timer-preset" data-minutes="15">Short Break (15m)</span>
                            <span class="timer-preset" data-minutes="5">Quick Break (5m)</span>
                            <span class="timer-preset" data-minutes="50">Deep Focus (50m)</span>
                        </div>
                    </div>

                    <div class="dropdown-divider"></div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-sliders"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Custom Timer</div>
                            <div class="activity-desc">
                                <input type="number" min="1" max="120" value="25" class="form-control form-control-sm d-inline-block" style="width: 60px;"> minutes
                            </div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="progress-ring">
                            <svg width="24" height="24">
                                <circle class="progress-circle" r="10" cx="12" cy="12" fill="transparent" stroke="#e3f2fd" stroke-width="3"></circle>
                                <circle class="progress-circle" r="10" cx="12" cy="12" fill="transparent" stroke="#00bcd4" stroke-width="3" stroke-dasharray="62.8" stroke-dashoffset="31.4"></circle>
                            </svg>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Current Session</div>
                            <div class="activity-desc">14:32 remaining</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="d-flex justify-content-around p-2">
                        <button class="btn btn-sm btn-success"><i class="bi bi-play"></i> Start</button>
                        <button class="btn btn-sm btn-danger"><i class="bi bi-pause"></i> Pause</button>
                        <button class="btn btn-sm btn-secondary"><i class="bi bi-arrow-clockwise"></i> Reset</button>
                    </div>
                </div>
            </div>
            <!-- Files Dropdown -->
            <div class="user-dropdown me-3">
                <button class="dropdown-toggle" onclick="toggleDropdown('files')">
                    <i class="bi bi-folder"></i>
                </button>
                <div class="dropdown-menu enhanced-dropdown" id="files-dropdown">
                    <div class="dropdown-header">
                        <i class="bi bi-folder"></i>
                        <span>File Management</span>
                    </div>
                    <div class="dropdown-divider"></div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-cloud-arrow-up"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Upload New</div>
                            <div class="activity-desc">PDF, DOCX, TXT, images</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-collection"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">My Documents</div>
                            <div class="activity-desc">12 files, 3 folders</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-stars"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Recent Files</div>
                            <div class="activity-desc">lecture_notes.pdf, summary.docx</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-share"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Shared With Me</div>
                            <div class="activity-desc">3 files from classmates</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-center">Open File Manager</a>
                </div>
            </div>

            <!-- Tools Dropdown -->
            <div class="user-dropdown me-3">
                <button class="dropdown-toggle" onclick="toggleDropdown('tools')">
                    <i class="bi bi-tools"></i>
                </button>
                <div class="dropdown-menu enhanced-dropdown" id="tools-dropdown">
                    <div class="dropdown-header">
                        <i class="bi bi-tools"></i>
                        <span>Study Tools</span>
                    </div>
                    <div class="dropdown-divider"></div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-highlighter"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Annotation Tool</div>
                            <div class="activity-desc">Highlight and annotate PDFs</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-translate"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Translation</div>
                            <div class="activity-desc">Translate text to 40+ languages</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-graph-up"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Progress Tracker</div>
                            <div class="activity-desc">View your study analytics</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="bi bi-calendar-check"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title">Study Planner</div>
                            <div class="activity-desc">Schedule your sessions</div>
                        </div>
                    </div>

                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-center">All Tools</a>
                </div>
            </div>



            <!-- Notification dropdown -->
            <div class="user-dropdown me-3 notification-icon">
                <button class="dropdown-toggle" onclick="toggleDropdown('notifications')">
                    <i class="bi bi-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <div class="dropdown-menu" id="notifications-dropdown">
                    <div class="dropdown-item"><strong>New notification</strong><br>You have 3 incomplete activities</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item"><strong>File ready</strong><br>Your summary has been generated</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item"><strong>Reminder</strong><br>Test tomorrow at 10 AM</div>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-center">View all notifications</a>
                </div>
            </div>

            <!-- User dropdown -->
            <div class="user-dropdown">
                <button class="dropdown-toggle d-flex align-items-center" onclick="toggleDropdown('user')">
                    <i class="bi bi-person-circle me-2"></i>
                    <span>Ahmad</span>
                    <i class="bi bi-chevron-down ms-1"></i>
                </button>
                <div class="dropdown-menu" id="user-dropdown">
                    <div class="dropdown-item d-flex align-items-center">
                        <i class="bi bi-person me-2"></i>
                        <span>Profile</span>
                    </div>
                    <div class="dropdown-item d-flex align-items-center">
                        <i class="bi bi-gear me-2"></i>
                        <span>Settings</span>
                    </div>
                    <div class="dropdown-item d-flex align-items-center">
                        <i class="bi bi-moon me-2"></i>
                        <span>Dark Mode</span>
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item d-flex align-items-center">
                        <i class="bi bi-box-arrow-right me-2"></i>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content: Two Halves -->
    <div class="main-content">
        <!-- Left: Upload and Text Area -->
        <div class="left-side">
            <div class="doc-box">
                <div class="left-content">
                    <div class="scrollable-content">
                        <div class="welcome-section">
                            <h4>Welcome, @fullName</h4>
                            <p>Start by uploading your file or typing text manually</p>
                        </div>

                        <div class="upload-section">
                            <input type="file" id="file-upload" class="file-input">
                            <button class="file-upload-btn mb-2" onclick="document.getElementById('file-upload').click()">
                                <i class="bi bi-upload"></i> Upload File
                            </button>
                            <div class="file-info" id="file-info">No file selected</div>
                        </div>

                        <div class="divider">OR</div>

                        <div class="text-center">
                            <button class="file-upload-btn mb-3" onclick="toggleTextInput()" id="type-btn">
                                <i class="bi bi-pencil-square"></i> Type Text Manually
                            </button>
                        </div>

                        <div id="manual-text" style="display: none;">
                            <textarea class="text-input-area" placeholder="Type or paste your content here..."></textarea>
                            <div class="text-center submit-btn">
                                <button class="file-upload-btn">
                                    <i class="bi bi-send"></i> Submit Text
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right: Dynamic Section Content -->
        <div class="right-side">
            <div class="doc-box" id="section-content">
                <h5><strong>Summary</strong></h5>
                <p>This is where the summary will appear...</p>
            </div>
        </div>
    </div>

    <!-- Global Navigation Buttons at Bottom -->
    <div class="bottom-navigation">
        <button class="arrow-btn"><i class="bi bi-chevron-left"></i></button>
        <button class="arrow-btn"><i class="bi bi-chevron-right"></i></button>
    </div>

    <script>
        // Function to toggle dropdowns
        function toggleDropdown(id) {
              event.stopPropagation();
              const dropdown = document.getElementById(`${id}-dropdown`);

              // إغلاق جميع القوائم الأخرى أولاً
              document.querySelectorAll('.dropdown-menu').forEach(menu => {
                  if (menu.id !== `${id}-dropdown`) {
                      menu.classList.remove('show');
                  }
              });

              dropdown.classList.toggle('show');
          }

        // Close dropdowns when clicking elsewhere
        window.onclick = function(event) {
            if (!event.target.matches('.dropdown-toggle')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
         document.querySelectorAll('.timer-preset').forEach(preset => {
            preset.addEventListener('click', function() {
                document.querySelectorAll('.timer-preset').forEach(p => p.classList.remove('active'));
                this.classList.add('active');
                const minutes = this.getAttribute('data-minutes');
                console.log(`Timer set to ${minutes} minutes`);
                // هنا يمكنك إضافة منطق ضبط المؤقت
            });
        });
        // Navigation functionality
        const navLinks = document.querySelectorAll('.left-nav .nav-link');
        const sectionContent = document.getElementById('section-content');
        const fileUpload = document.getElementById('file-upload');
        const fileInfo = document.getElementById('file-info');

        const contentMap = {
            summary: '<h5><strong>Summary</strong></h5><p>This is where the summary will appear...</p>',
            flashcards: '<h5><strong>Flashcards</strong></h5><p>Generated flashcards go here.</p>',
            workbook: '<h5><strong>Workbook</strong></h5><p>Workbook content and exercises go here.</p>',
            quizzes: '<h5><strong>Quizzes</strong></h5><p>Questions here related to the document.</p>',
            ai: '<h5><strong>AI Assistant</strong></h5><p>Interact with the AI here.</p>'
        };

        navLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();

                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');

                const section = this.getAttribute('data-section');
                sectionContent.innerHTML = contentMap[section] || '';
            });
        });

        function toggleTextInput() {
            const box = document.getElementById("manual-text");
            const btn = document.getElementById("type-btn");

            if (box.style.display === "none") {
                box.style.display = "block";
                btn.innerHTML = '<i class="bi bi-x-circle"></i> Hide Manual Input';
                setTimeout(() => {
                    document.querySelector('.text-input-area').focus();
                }, 100);
            } else {
                box.style.display = "none";
                btn.innerHTML = '<i class="bi bi-pencil-square"></i> Type Text Manually';
            }
        }

        fileUpload.addEventListener('change', function() {
            if (this.files.length > 0) {
                fileInfo.textContent = `Selected: ${this.files[0].name}`;
                document.getElementById("manual-text").style.display = "none";
                document.getElementById("type-btn").innerHTML = '<i class="bi bi-pencil-square"></i> Type Text Manually';
            } else {
                fileInfo.textContent = "No file selected";
            }
        });
         
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>